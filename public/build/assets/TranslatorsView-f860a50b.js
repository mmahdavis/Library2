import{_ as W,G as Z,d as v,H as ee,I as te,e as c,b as s,u as P,w as n,F as M,o as m,X as le,a,z as ae,g as f,t as T,n as N,f as b,h as se,J as C,O as I,i as u,p as oe,m as ne}from"./app-5ae7d91e.js";import{_ as ie}from"./AppLayout-6336a29c.js";import"./layout-69baa60e.js";const i=_=>(oe("data-v-136ce288"),_=_(),ne(),_),re={class:"grid"},ue={class:"col-12"},de={class:"card"},ce={class:"list-none p-0 m-0 flex align-items-center font-medium mb-3"},me=i(()=>a("li",{class:"px-2"},[a("i",{class:"pi pi-angle-right text-500 line-height-3"})],-1)),pe=i(()=>a("li",null,[a("span",{class:"text-900 line-height-3"},"Translators")],-1)),ve={class:"my-2"},_e={class:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},he=i(()=>a("h5",{class:"m-0"},"Manage Translators",-1)),fe={class:"block mt-2 md:mt-0 p-input-icon-left"},be=i(()=>a("i",{class:"pi pi-search"},null,-1)),ye=i(()=>a("span",{class:"p-column-title"},"Name",-1)),ge=i(()=>a("span",{class:"p-column-title"},"Image",-1)),Se=i(()=>a("img",{src:"https://fakeimg.pl/320x220/",alt:"https://fakeimg.pl/320x220/",class:"shadow-2",width:"100"},null,-1)),xe=i(()=>a("span",{class:"p-column-title"},"Slug",-1)),Te=["src"],ke={class:"field"},we=i(()=>a("label",{for:"name"},"Name",-1)),Ve={key:0,class:"p-invalid"},Ce={class:"field"},De=i(()=>a("label",{for:"inventoryStatus",class:"mb-3"},"Inventory Status",-1)),Ne={key:0,class:"p-invalid"},Ie={class:"formgrid grid"},Le={class:"field col"},Ue=i(()=>a("label",{for:"quantity"},"Quantity",-1)),qe={key:0,class:"p-invalid"},Pe={class:"field"},Me=i(()=>a("label",{class:"mb-3"},"Tags",-1)),Ee={key:0,class:"p-1"},Be={class:"field"},$e=i(()=>a("label",{class:"mb-3"},"translator",-1)),Fe={class:"field"},Oe=i(()=>a("label",{class:"mb-3"},"publisher",-1)),je={class:"field"},ze=i(()=>a("label",{class:"mb-3"},"translator",-1)),Re={class:"flex align-items-center justify-content-center"},Ae=i(()=>a("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1)),Qe={key:0},Ye={class:"flex align-items-center justify-content-center"},Ge=i(()=>a("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1)),He={key:0},Je={__name:"TranslatorsView",props:{translators:Object},setup(_){const E=_,p=Z(),h=v(!1),y=v(!1),g=v(!1),e=v({}),S=v(null),L=v(null),k=v({}),d=v(!1);ee(()=>{R()});const B=()=>{h.value=!1,d.value=!1},$=o=>{e.value=o,y.value=!0},F=o=>{C.delete(route("translators.destroy",[[o.id]])).then(t=>{y.value=!1,p.add({severity:"success",summary:"Successful ",detail:"Translator Deleted",life:3e3}),I.reload()}).catch(t=>{p.add({severity:"error",summary:"Error",detail:t.message,life:3e3})})},O=()=>{L.value.exportCSV()},j=()=>{g.value=!0},z=()=>{const o=[];S.value.forEach(t=>{o.push(t.id)}),C.delete(route("translators.destroy",[o])).then(t=>{g.value=!1,p.add({severity:"success",summary:"Successful ",detail:"Translators Deleted",life:3e3}),I.reload()}).catch(t=>{p.add({severity:"error",summary:"Error",detail:t.message,life:3e3})})},R=()=>{k.value={global:{value:null,matchMode:te.CONTAINS}}},A=()=>{e.value={},d.value=!1,h.value=!0},U=()=>{e.value.inventoryStatus=e.value.inventoryStatus.label||e.value.inventoryStatus,e.value.translator=e.value.translator.id,e.value.publisher=e.value.publisher.id,e.value.translator=e.value.translator.id,e.value.tags&&(e.value.tag=[],e.value.tags.forEach(o=>{e.value.tag.push(o.id)}),delete e.value.tags)},Q=()=>{d.value=!0,e.value.name&&e.value.name.trim()&&(e.value.id?(U(),C.put(route("translators.update",[e.value.id,e.value])).then(o=>{console.log(o),h.value=!1,e.value={},p.add({severity:"success",summary:"Successful",detail:"Translator Created",life:3e3})}).catch(o=>{p.add({severity:"error",summary:"Error",detail:o.message,life:3e3})})):(U(),C.post(route("translators.store",[e.value])).then(o=>{h.value=!1,e.value={},p.add({severity:"success",summary:"Successful",detail:"Translator Created",life:3e3}),I.reload()}).catch(o=>{p.add({severity:"error",summary:"Error",detail:o.message,life:3e3})})))},Y=o=>{e.value={...o},h.value=!0};return(o,t)=>{const G=u("Toast"),r=u("Button"),H=u("Toolbar"),q=u("InputText"),x=u("Column"),J=u("DataTable"),w=u("Dropdown"),K=u("InputNumber"),X=u("MultiSelect"),D=u("Dialog");return m(),c(M,null,[s(P(le),{title:"Translators"}),s(ie,null,{default:n(()=>[a("div",re,[a("div",ue,[a("div",de,[s(G),a("ul",ce,[a("li",null,[s(P(ae),{href:"/dashboard",class:"text-500 no-underline line-height-3 cursor-pointer"},{default:n(()=>[f("dashboard")]),_:1})]),me,pe]),s(H,{class:"mb-4"},{start:n(()=>[a("div",ve,[s(r,{label:"New",icon:"pi pi-plus",class:"p-button-success mr-2",onClick:A}),s(r,{label:"Delete",icon:"pi pi-trash",class:"p-button-danger",onClick:j,disabled:!S.value||!S.value.length},null,8,["disabled"])])]),end:n(()=>[s(r,{label:"Export",icon:"pi pi-upload",class:"p-button-help",onClick:t[0]||(t[0]=l=>O(l))})]),_:1}),s(J,{ref_key:"dt",ref:L,value:E.translators,selection:S.value,"onUpdate:selection":t[2]||(t[2]=l=>S.value=l),dataKey:"id",paginator:!0,rows:10,filters:k.value,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} translators",responsiveLayout:"scroll"},{header:n(()=>[a("div",_e,[he,a("span",fe,[be,s(q,{modelValue:k.value.global.value,"onUpdate:modelValue":t[1]||(t[1]=l=>k.value.global.value=l),placeholder:"Search..."},null,8,["modelValue"])])])]),default:n(()=>[s(x,{selectionMode:"multiple",headerStyle:"width: 3rem"}),s(x,{field:"name",header:"Name",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:n(l=>[ye,f(" "+T(l.data.name),1)]),_:1}),s(x,{header:"Image",headerStyle:"width:14%; min-width:10rem;"},{body:n(l=>[ge,Se]),_:1}),s(x,{field:"slug",header:"Slug",sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:n(l=>[xe,f(" "+T(l.data.slug),1)]),_:1}),s(x,{headerStyle:"min-width:10rem;"},{body:n(l=>[s(r,{icon:"pi pi-pencil",class:"p-button-rounded p-button-success mr-2",onClick:V=>Y(l.data)},null,8,["onClick"]),s(r,{icon:"pi pi-trash",class:"p-button-rounded p-button-danger mt-2",onClick:V=>$(l.data)},null,8,["onClick"])]),_:1})]),_:1},8,["value","selection","filters"]),s(D,{visible:h.value,"onUpdate:visible":t[10]||(t[10]=l=>h.value=l),style:{width:"450px"},header:"Translator Details",modal:!0,class:"p-fluid"},{footer:n(()=>[s(r,{label:"Cancel",icon:"pi pi-times",class:"p-button-text",onClick:B}),s(r,{label:"Save",icon:"pi pi-check",class:"p-button-text",onClick:Q})]),default:n(()=>[a("img",{src:e.value.thumbline?e.value.thumbline:"https://fakeimg.pl/320x220/",alt:"translator image",width:"150",class:"mt-0 mx-auto mb-5 block shadow-2"},null,8,Te),a("div",ke,[we,s(q,{id:"name",modelValue:e.value.name,"onUpdate:modelValue":t[3]||(t[3]=l=>e.value.name=l),modelModifiers:{trim:!0},required:"true",autofocus:"",class:N({"p-invalid":d.value&&!e.value.name})},null,8,["modelValue","class"]),d.value&&!e.value.name?(m(),c("small",Ve,"Name is required.")):b("",!0)]),a("div",Ce,[De,f(" "+T(e.value.inventoryStatus)+" ",1),s(w,{id:"inventoryStatus",modelValue:e.value.inventoryStatus,"onUpdate:modelValue":t[4]||(t[4]=l=>e.value.inventoryStatus=l),options:o.statuses,optionLabel:"label",placeholder:"Select a Status",class:N({"p-invalid":d.value&&!e.value.inventoryStatus})},null,8,["modelValue","options","class"]),d.value&&!e.value.inventoryStatus?(m(),c("small",Ne,"InventoryStatus is required.")):b("",!0)]),a("div",Ie,[a("div",Le,[Ue,s(K,{id:"quantity",modelValue:e.value.quantity,"onUpdate:modelValue":t[5]||(t[5]=l=>e.value.quantity=l),integeronly:"",class:N({"p-invalid":d.value&&!e.value.quantity})},null,8,["modelValue","class"]),d.value&&!e.value.quantity?(m(),c("small",qe,"Quantity is required.")):b("",!0)])]),a("div",Pe,[Me,s(X,{modelValue:e.value.tags,"onUpdate:modelValue":t[6]||(t[6]=l=>e.value.tags=l),options:o.tags,optionLabel:"name",placeholder:"Select Tags",filter:!0},{value:n(l=>[(m(!0),c(M,null,se(l.value,V=>(m(),c("div",{class:"inline-flex align-items-center py-1 px-2 bg-primary text-primary border-round mr-2",key:V.id},[a("div",null,T(V.name),1)]))),128)),!l.value||l.value.length===0?(m(),c("div",Ee,"Select Tags")):b("",!0)]),_:1},8,["modelValue","options"])]),a("div",Be,[$e,s(w,{modelValue:e.value.translator,"onUpdate:modelValue":t[7]||(t[7]=l=>e.value.translator=l),options:_.translators,optionLabel:"name",placeholder:"Select Translator"},null,8,["modelValue","options"])]),a("div",Fe,[Oe,s(w,{modelValue:e.value.publisher,"onUpdate:modelValue":t[8]||(t[8]=l=>e.value.publisher=l),options:o.publishers,optionLabel:"name",placeholder:"Select publisher"},null,8,["modelValue","options"])]),a("div",je,[ze,s(w,{modelValue:e.value.translator,"onUpdate:modelValue":t[9]||(t[9]=l=>e.value.translator=l),options:_.translators,optionLabel:"name",placeholder:"Select translator"},null,8,["modelValue","options"])])]),_:1},8,["visible"]),s(D,{visible:y.value,"onUpdate:visible":t[13]||(t[13]=l=>y.value=l),style:{width:"450px"},header:"Confirm",modal:!0},{footer:n(()=>[s(r,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:t[11]||(t[11]=l=>y.value=!1)}),s(r,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:t[12]||(t[12]=l=>F(e.value))})]),default:n(()=>[a("div",Re,[Ae,e.value?(m(),c("span",Qe,[f("Are you sure you want to delete "),a("b",null,T(e.value.name),1),f("?")])):b("",!0)])]),_:1},8,["visible"]),s(D,{visible:g.value,"onUpdate:visible":t[15]||(t[15]=l=>g.value=l),style:{width:"450px"},header:"Confirm",modal:!0},{footer:n(()=>[s(r,{label:"No",icon:"pi pi-times",class:"p-button-text",onClick:t[14]||(t[14]=l=>g.value=!1)}),s(r,{label:"Yes",icon:"pi pi-check",class:"p-button-text",onClick:z})]),default:n(()=>[a("div",Ye,[Ge,e.value?(m(),c("span",He,"Are you sure you want to delete the selected translators?")):b("",!0)])]),_:1},8,["visible"])])])])]),_:1})],64)}}},Ze=W(Je,[["__scopeId","data-v-136ce288"]]);export{Ze as default};
