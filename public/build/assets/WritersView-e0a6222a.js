import{_ as x,E as ee,G as te,d as v,H as le,I as se,e as c,b as o,u as U,w as n,F as q,o as m,X as ae,a,z as oe,g as C,t as i,n as M,f,h as ie,J as W,O as D,i as u,p as ne,m as re}from"./app-5ae7d91e.js";import{_ as ue}from"./AppLayout-6336a29c.js";import"./layout-69baa60e.js";const S=b=>(ne("data-v-81c9ace9"),b=b(),re(),b),de={class:"grid"},ce={class:"col-12"},me={class:"card"},pe={class:"list-none p-0 m-0 flex align-items-center font-medium mb-3"},ve=S(()=>a("li",{class:"px-2"},[a("i",{class:"pi pi-angle-right text-500 line-height-3"})],-1)),he={class:"text-900 line-height-3"},be={class:"my-2"},fe={class:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},ge={class:"m-0"},ye={class:"block mt-2 md:mt-0 p-input-icon-left"},_e=S(()=>a("i",{class:"pi pi-search"},null,-1)),$e={class:"p-column-title"},Se={class:"p-column-title"},we=S(()=>a("img",{src:"https://fakeimg.pl/320x220/",alt:"https://fakeimg.pl/320x220/",class:"shadow-2",width:"100"},null,-1)),ke={class:"p-column-title"},Ve=["src","alt"],Ce={class:"field"},We={for:"name"},De={key:0,class:"p-invalid"},Te={class:"field"},Ie={for:"inventoryStatus",class:"mb-3"},Me={key:0,class:"p-invalid"},Ne={class:"formgrid grid"},Le={class:"field col"},Pe={for:"quantity"},Ue={key:0,class:"p-invalid"},qe={class:"field"},Ee={class:"mb-3"},Re={key:0,class:"p-1"},Be={class:"field"},Fe={class:"mb-3"},Oe={class:"field"},je={class:"mb-3"},ze={class:"field"},Ae={class:"mb-3"},Qe={class:"flex align-items-center justify-content-center"},Ye=S(()=>a("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1)),Ge={key:0},He={class:"flex align-items-center justify-content-center"},Je=S(()=>a("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1)),Ke={key:0},Xe={__name:"WritersView",props:{writers:Object},setup(b){const E=b,{t:T}=ee(),p=te(),h=v(!1),g=v(!1),y=v(!1),t=v({}),_=v(null),N=v(null),w=v({}),d=v(!1);le(()=>{A()});const R=()=>{h.value=!1,d.value=!1},B=e=>{t.value=e,g.value=!0},F=e=>{W.delete(route("writers.destroy",[[e.id]])).then(l=>{g.value=!1,p.add({severity:"success",summary:"Successful ",detail:T("Messages.Toast.Success.WriterDelete"),life:3e3}),D.reload()}).catch(l=>{p.add({severity:"error",summary:"Error",detail:l.message,life:3e3})})},O=()=>{N.value.exportCSV()},j=()=>{y.value=!0},z=()=>{const e=[];_.value.forEach(l=>{e.push(l.id)}),W.delete(route("writers.destroy",[e])).then(l=>{y.value=!1,p.add({severity:"success",summary:"Successful ",detail:T("Messages.Toast.Success.WritersDelete"),life:3e3}),D.reload()}).catch(l=>{p.add({severity:"error",summary:"Error",detail:l.message,life:3e3})})},A=()=>{w.value={global:{value:null,matchMode:se.CONTAINS}}},Q=()=>{t.value={},d.value=!1,h.value=!0},L=()=>{t.value.inventoryStatus=t.value.inventoryStatus.label||t.value.inventoryStatus,t.value.writer=t.value.writer.id,t.value.publisher=t.value.publisher.id,t.value.translator=t.value.translator.id,t.value.tags&&(t.value.tag=[],t.value.tags.forEach(e=>{t.value.tag.push(e.id)}),delete t.value.tags)},Y=()=>{d.value=!0,t.value.name&&t.value.name.trim()&&(t.value.id?(L(),W.put(route("writers.update",[t.value.id,t.value])).then(e=>{console.log(e),h.value=!1,t.value={},p.add({severity:"success",summary:"Successful",detail:T("Messages.Toast.Success.WriterCreated"),life:3e3}),D.reload()}).catch(e=>{p.add({severity:"error",summary:"Error",detail:e.message,life:3e3})})):(L(),W.post(route("writers.store",[t.value])).then(e=>{h.value=!1,t.value={},p.add({severity:"success",summary:"Successful",detail:"Writer Created",life:3e3}),D.reload()}).catch(e=>{p.add({severity:"error",summary:"Error",detail:e.message,life:3e3})})))},G=e=>{t.value={...e},h.value=!0};return(e,l)=>{const H=u("Toast"),r=u("Button"),J=u("Toolbar"),P=u("InputText"),$=u("Column"),K=u("DataTable"),k=u("Dropdown"),X=u("InputNumber"),Z=u("MultiSelect"),I=u("Dialog");return m(),c(q,null,[o(U(ae),{title:"Writers"}),o(ue,null,{default:n(()=>[a("div",de,[a("div",ce,[a("div",me,[o(H),a("ul",pe,[a("li",null,[o(U(oe),{href:"/dashboard",class:"text-500 no-underline line-height-3 cursor-pointer"},{default:n(()=>[C(i(e.$t("Dashboard")),1)]),_:1})]),ve,a("li",null,[a("span",he,i(e.$t("Writers")),1)])]),o(J,{class:"mb-4"},{start:n(()=>[a("div",be,[o(r,{label:e.$t("New"),icon:"pi pi-plus",class:"p-button-success mr-2",onClick:Q},null,8,["label"]),o(r,{label:e.$t("Delete"),icon:"pi pi-trash",class:"p-button-danger",onClick:j,disabled:!_.value||!_.value.length},null,8,["label","disabled"])])]),end:n(()=>[o(r,{label:"Export",icon:"pi pi-upload",class:"p-button-help",onClick:l[0]||(l[0]=s=>O(s))})]),_:1}),o(K,{ref_key:"dt",ref:N,value:E.writers,selection:_.value,"onUpdate:selection":l[2]||(l[2]=s=>_.value=s),dataKey:"id",paginator:!0,rows:10,filters:w.value,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} writers",responsiveLayout:"scroll"},{header:n(()=>[a("div",fe,[a("h5",ge,i(e.$t("Manage"))+" "+i(e.$t("Writers")),1),a("span",ye,[_e,o(P,{modelValue:w.value.global.value,"onUpdate:modelValue":l[1]||(l[1]=s=>w.value.global.value=s),placeholder:e.$t("Search")+"..."},null,8,["modelValue","placeholder"])])])]),default:n(()=>[o($,{selectionMode:"multiple",headerStyle:"width: 3rem"}),o($,{field:"name",header:e.$t("Name"),sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:n(s=>[a("span",$e,i(e.$t("Name")),1),C(" "+i(s.data.name),1)]),_:1},8,["header"]),o($,{header:e.$t("Image"),headerStyle:"width:14%; min-width:10rem;"},{body:n(s=>[a("span",Se,i(e.$t("Image")),1),we]),_:1},8,["header"]),o($,{field:"slug",header:e.$t("Slug"),sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:n(s=>[a("span",ke,i(e.$t("Slug")),1),C(" "+i(s.data.slug),1)]),_:1},8,["header"]),o($,{headerStyle:"min-width:10rem;"},{body:n(s=>[o(r,{icon:"pi pi-pencil",class:"p-button-rounded p-button-success mr-2",onClick:V=>G(s.data)},null,8,["onClick"]),o(r,{icon:"pi pi-trash",class:"p-button-rounded p-button-danger mt-2",onClick:V=>B(s.data)},null,8,["onClick"])]),_:1})]),_:1},8,["value","selection","filters"]),o(I,{visible:h.value,"onUpdate:visible":l[10]||(l[10]=s=>h.value=s),style:{width:"450px"},header:t.value.id?e.$t("Edit")+" "+e.$t("Writer"):e.$t("Add")+" "+e.$t("Writer"),modal:!0,class:"p-fluid"},{footer:n(()=>[o(r,{label:e.$t("Cancel"),icon:"pi pi-times",class:"p-button-text",onClick:R},null,8,["label"]),o(r,{label:e.$t("Save"),icon:"pi pi-check",class:"p-button-text",onClick:Y},null,8,["label"])]),default:n(()=>[a("img",{src:t.value.thumbline?t.value.thumbline:"https://fakeimg.pl/320x220/",alt:e.$t("WriterImage"),width:"150",class:"mt-0 mx-auto mb-5 block shadow-2"},null,8,Ve),a("div",Ce,[a("label",We,i(e.$t("Name")),1),o(P,{id:"name",modelValue:t.value.name,"onUpdate:modelValue":l[3]||(l[3]=s=>t.value.name=s),modelModifiers:{trim:!0},required:"true",autofocus:"",class:M({"p-invalid":d.value&&!t.value.name})},null,8,["modelValue","class"]),d.value&&!t.value.name?(m(),c("small",De,i(e.$t("Messages.Required.Name")),1)):f("",!0)]),a("div",Te,[a("label",Ie,i(e.$t("InventoryStatus")),1),C(" "+i(t.value.inventoryStatus)+" ",1),o(k,{id:"inventoryStatus",modelValue:t.value.inventoryStatus,"onUpdate:modelValue":l[4]||(l[4]=s=>t.value.inventoryStatus=s),options:e.statuses,optionLabel:"label",placeholder:"Select a Status",class:M({"p-invalid":d.value&&!t.value.inventoryStatus})},null,8,["modelValue","options","class"]),d.value&&!t.value.inventoryStatus?(m(),c("small",Me,i(e.$t("Message.Required.InventoryStatus")),1)):f("",!0)]),a("div",Ne,[a("div",Le,[a("label",Pe,i(e.$t("Quantity")),1),o(X,{id:"quantity",modelValue:t.value.quantity,"onUpdate:modelValue":l[5]||(l[5]=s=>t.value.quantity=s),integeronly:"",class:M({"p-invalid":d.value&&!t.value.quantity})},null,8,["modelValue","class"]),d.value&&!t.value.quantity?(m(),c("small",Ue,i(e.$t("Message.Required.Quantity")),1)):f("",!0)])]),a("div",qe,[a("label",Ee,i(e.$t("Tags")),1),o(Z,{modelValue:t.value.tags,"onUpdate:modelValue":l[6]||(l[6]=s=>t.value.tags=s),options:e.tags,optionLabel:"name",placeholder:e.$t("Select.Tags"),filter:!0},{value:n(s=>[(m(!0),c(q,null,ie(s.value,V=>(m(),c("div",{class:"inline-flex align-items-center py-1 px-2 bg-primary text-primary border-round mr-2",key:V.id},[a("div",null,i(V.name),1)]))),128)),!s.value||s.value.length===0?(m(),c("div",Re,i(e.$t("Select.Tags")),1)):f("",!0)]),_:1},8,["modelValue","options","placeholder"])]),a("div",Be,[a("label",Fe,i(e.$t("Writer")),1),o(k,{modelValue:t.value.writer,"onUpdate:modelValue":l[7]||(l[7]=s=>t.value.writer=s),options:b.writers,optionLabel:"name",placeholder:e.$t("Select.Writer")},null,8,["modelValue","options","placeholder"])]),a("div",Oe,[a("label",je,i(e.$t("Publisher")),1),o(k,{modelValue:t.value.publisher,"onUpdate:modelValue":l[8]||(l[8]=s=>t.value.publisher=s),options:e.publishers,optionLabel:"name",placeholder:e.$t("Select.Publisher")},null,8,["modelValue","options","placeholder"])]),a("div",ze,[a("label",Ae,i(e.$t("Translator")),1),o(k,{modelValue:t.value.translator,"onUpdate:modelValue":l[9]||(l[9]=s=>t.value.translator=s),options:e.translators,optionLabel:"name",placeholder:e.$t("Select.Translator")},null,8,["modelValue","options","placeholder"])])]),_:1},8,["visible","header"]),o(I,{visible:g.value,"onUpdate:visible":l[13]||(l[13]=s=>g.value=s),style:{width:"450px"},header:e.$t("Confirm")+" "+e.$t("Delete"),modal:!0},{footer:n(()=>[o(r,{label:e.$t("No"),icon:"pi pi-times",class:"p-button-text",onClick:l[11]||(l[11]=s=>g.value=!1)},null,8,["label"]),o(r,{label:e.$t("Yes"),icon:"pi pi-check",class:"p-button-text",onClick:l[12]||(l[12]=s=>F(t.value))},null,8,["label"])]),default:n(()=>[a("div",Qe,[Ye,t.value?(m(),c("span",Ge,i(e.$t("Messages.Confirm.Delete",{name:t.value.name})),1)):f("",!0)])]),_:1},8,["visible","header"]),o(I,{visible:y.value,"onUpdate:visible":l[15]||(l[15]=s=>y.value=s),style:{width:"450px"},header:"Confirm",modal:!0},{footer:n(()=>[o(r,{label:e.$t("No"),icon:"pi pi-times",class:"p-button-text",onClick:l[14]||(l[14]=s=>y.value=!1)},null,8,["label"]),o(r,{label:e.$t("Yes"),icon:"pi pi-check",class:"p-button-text",onClick:z},null,8,["label"])]),default:n(()=>[a("div",He,[Je,t.value?(m(),c("span",Ke,i(e.$t("Messages.Confirm.DeleteWriters")),1)):f("",!0)])]),_:1},8,["visible"])])])])]),_:1})],64)}}},tt=x(Xe,[["__scopeId","data-v-81c9ace9"]]);export{tt as default};
